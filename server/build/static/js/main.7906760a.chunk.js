(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(3),c=a.n(r),o=(a(13),a(1)),m=a(4),l=a(5),i=a(7),u=a(6),g=(a(14),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={messages:[],currentUser:"",currentMessageBody:""},e.ws=new WebSocket("ws://localhost:8080"),e.submitMessageToChat=function(t){t.preventDefault();var a=e.state,s=a.currentUser,n=a.currentMessageBody,r=new Date,c={type:"NEW_MESSAGE",userName:s,messageBody:n,timestamp:r.getHours()+":"+r.getMinutes()};e.ws.send(JSON.stringify(c));var m=[].concat(Object(o.a)(e.state.messages),[c]);e.setState({messages:m}),e.setState({currentMessageBody:""})},e.handleMessageChange=function(t){e.setState({currentMessageBody:t.target.value})},e.submitName=function(t){t.preventDefault();var a=t.target[0].value;e.setState({currentUser:a});var s={type:"NEW_USER_JOINED",userName:a};e.ws.send(JSON.stringify(s))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("Connected!")},this.ws.onmessage=function(t){console.log(t);var a=t.data;if("ping"===a)e.ws.send("pong");else{var s=JSON.parse(a),n=[].concat(Object(o.a)(e.state.messages),[s]);e.setState({messages:n})}},this.ws.onclose=function(){console.log("disconnected")}}},{key:"render",value:function(){var e=this,t=this.state.messages.map((function(t){return n.a.createElement(h,{message:t,currentUser:e.state.currentUser})}));return n.a.createElement("div",{className:"container-flex"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("h2",{className:"header"},"\ud83d\udc4b\ud83c\udffeWelcome ",this.state.currentUser," to the IvyHacks Chat App"))),n.a.createElement("div",{className:"row all-messages"},n.a.createElement("div",{className:"col"},t)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement(d,{submitMessageToChat:this.submitMessageToChat,handleMessageChange:this.handleMessageChange,currentMessageBody:this.state.currentMessageBody,currentUser:this.state.currentUser,submitName:this.submitName}))))}}]),a}(s.Component)),d=function(e){var t=e.submitMessageToChat,a=e.handleMessageChange,s=e.currentMessageBody,r=e.currentUser,c=e.submitName;return r?n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{className:"fixed-bottom message-input-box",onSubmit:t},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{className:"form-control new-message",type:"text",placeholder:"Enter a new message",value:s,onChange:a}),n.a.createElement("input",{className:"submit-button",type:"submit",value:"Submit"})))):n.a.createElement(p,{submitName:c})},h=function(e){var t=e.message,a=e.currentUser,s=t.userName===a?"You":t.userName;return"NEW_MESSAGE"===t.type?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("p",{className:"message"},n.a.createElement("b",null," ",t.timestamp," - ",s,": "),t.messageBody))):"NEW_USER_JOINED"===t.type?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("p",{className:"user-joined"},t.userName," has joined the chat"))):void 0},p=function(e){var t=e.submitName;return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{className:"fixed-bottom name-input",onSubmit:t},n.a.createElement("div",{className:"form-group input-group"},n.a.createElement("input",{className:"form-control",type:"text",name:"username",placeholder:"Enter Name to Start Chatting"}),n.a.createElement("div",{className:"input-group-btn"},n.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"})))))},E=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7906760a.chunk.js.map